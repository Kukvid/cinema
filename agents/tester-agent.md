## Agent 5: QA/Tester

**Технологии**: pytest, manual testing, Postman, curl

### Test cases (приоритетные)

**Блок 1: Аутентификация**
1. Регистрация пользователя с валидными данными
2. Регистрация с дублирующимся email (ошибка)
3. Логин с правильными credentials
4. Логин с неправильным паролем (ошибка)
5. Доступ к защищенным endpoints без токена (401)
6. Refresh token после истечения access token

**Блок 2: Бронирование (критично!)**
7. Бронирование свободного места
8. Бронирование уже занятого места (ошибка 400)
9. Бронирование двух мест одновременно в одном заказе
10. Таймаут резервирования через 5 минут
11. Двойное бронирование одного места двумя пользователями (race condition)
12. Генерация уникального QR кода для каждого билета

**Блок 3: Платежи и промокоды**
13. Mock оплата успешная
14. Применение валидного промокода
15. Применение просроченного промокода (ошибка)
16. Применение промокода с превышением лимита использований
17. Применение промокода с минимальной суммой заказа
18. Начисление бонусов 5% после успешной оплаты
19. Списание бонусов при следующей покупке

**Блок 4: Расчеты с дистрибьюторами**
20. Расчет процента дистрибьютора для 1-й недели проката
21. Расчет процента для 2-й, 3-й недели и далее
22. Учет минимальной гарантированной суммы
23. Вычет операционных расходов кинотеатра
24. Автоматическое создание PaymentHistory

**Блок 5: Кинобар**
25. Добавление товара в предзаказ
26. Генерация уникального кода выдачи
27. Проверка наличия товара на складе
28. Расчет суммы предзаказа

**Блок 6: Отчеты**
29. Генерация отчета по выручке кинотеатра
30. Экспорт отчета в PDF и Excel
31. Фильтрация отчета по датам
32. Отчет по популярным фильмам (сортировка по количеству билетов)
